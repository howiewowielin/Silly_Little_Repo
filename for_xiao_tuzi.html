<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>for you 💖</title>
  <style>
    :root{
      --bg:#0b0f10;
      --fg:#d9f2e6;
      --accent:#ff5ca2;  /* pink hearts */
      --muted:#7aa48a;
    }
    html,body{height:100%;}
    body{
      margin:0; background:var(--bg); color:var(--fg); font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; overflow:hidden;
    }
    #matrix{position:fixed; inset:0; z-index:0; display:block;}
    .wrap{ position:relative; z-index:1; height:100%; display:grid; place-items:center; padding:24px; }
    .term{ width:min(780px, 92vw); background:rgba(12,16,17,.82); border:1px solid rgba(255,92,162,.25); border-radius:18px; box-shadow:0 20px 80px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,92,162,.12); overflow:hidden; }
    .term__titlebar{ display:flex; align-items:center; gap:10px; padding:12px 14px; background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); border-bottom:1px solid rgba(255,92,162,.18); }
    .dot{width:11px;height:11px;border-radius:50%;}
    .dot--red{background:#ff5f56;} .dot--yellow{background:#ffbd2e;} .dot--green{background:#27c93f;}
    .term__title{margin-left:6px; font-size:12px; letter-spacing:.04em; color:var(--muted)}
    .screen{padding:22px 20px 26px 20px; min-height:220px;}
    .line{display:block; white-space:pre-wrap; word-break:break-word; font-size:16px; line-height:1.6}
    .prompt{color:var(--accent)}
    .cursor{ display:inline-block; width:10px; height:1.15em; transform:translateY(2px); background:var(--accent); margin-left:4px; animation:blink 1s steps(1,end) infinite;}
    @keyframes blink{50%{opacity:0}}
    .footer{display:flex; justify-content:space-between; align-items:center; padding:10px 16px 14px; font-size:12px; color:var(--muted); border-top:1px solid rgba(255,92,162,.14)}
    .tag{color:var(--accent)}
    .btns{display:flex; gap:10px}
    .btn{appearance:none; border:1px solid rgba(255,92,162,.35); background:rgba(255,92,162,.08); color:var(--fg); padding:8px 12px; font-size:12px; border-radius:999px; cursor:pointer; transition:.2s transform, .2s opacity, .2s filter; backdrop-filter: blur(6px);} 
    .btn:hover{transform:translateY(-1px)}
    .hint{position:fixed; left:50%; bottom:18px; transform:translateX(-50%); color:var(--muted); font-size:12px; opacity:.8}
    a{color:var(--accent); text-decoration:none}
  </style>
</head>
<body>
  <canvas id="matrix" aria-hidden="true"></canvas>
  <div class="wrap">
    <div class="term" role="region" aria-label="cute terminal message">
      <div class="term__titlebar">
        <span class="dot dot--red"></span>
        <span class="dot dot--yellow"></span>
        <span class="dot dot--green"></span>
        <span class="term__title">/usr/bin/feelings — zsh</span>
      </div>
      <div class="screen" id="screen">
        <span class="line"><span class="prompt">howie@heart</span>:~$ <span id="type"></span><span class="cursor" id="cursor"></span></span>
      </div>
      <div class="footer">
        <span>status: <span class="tag">200 OK</span> — sent with 💗</span>
        <div class="btns">
          <button class="btn" id="replay">replay</button>
          <button class="btn" id="sound">sound: off</button>
          <button class="btn" id="share">copy link</button>
        </div>
      </div>
    </div>
  </div>
  <div class="hint">tap anywhere once to unlock sound 🎧</div>
<script>
  // ---------- Canvas Heart Rain (vector hearts) ----------
  const canvas = document.getElementById('matrix');
  const ctx = canvas.getContext('2d');
  let W, H, COLS, drops;
  const CELL = 22;      // grid cell width
  const SIZE = 14;      // heart size

  function resize(){
    W = canvas.width = window.innerWidth;
    H = canvas.height = window.innerHeight;
    COLS = Math.floor(W / CELL);
    drops = new Array(COLS).fill(0).map(()=> Math.random()*H);
  }
  window.addEventListener('resize', resize);
  resize();

  function drawHeart(x, y, s, color){
    ctx.save();
    ctx.translate(x, y);
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.moveTo(0, -s*0.25);
    ctx.bezierCurveTo(s*0.5, -s*0.85, s*1.2, -s*0.1, 0, s);
    ctx.bezierCurveTo(-s*1.2, -s*0.1, -s*0.5, -s*0.85, 0, -s*0.25);
    ctx.closePath();
    ctx.fill();
    ctx.restore();
  }

  function rain(){
    ctx.fillStyle = 'rgba(11,15,16,0.18)';
    ctx.fillRect(0,0,W,H);
    for(let i=0; i<COLS; i++){
      const x = i*CELL + CELL/2;
      const y = drops[i];
      drawHeart(x, y, SIZE, 'rgba(255,92,162,0.92)');
      drops[i] += 1 + Math.random()*0.9;
      if(drops[i] > H + Math.random()*200){
        drops[i] = -Math.random()*50;
      }
    }
    requestAnimationFrame(rain);
  }
  rain();

  // ---------- WebAudio beep sound ----------
  let soundOn = false;
  let ac = null;
  document.addEventListener('pointerdown', () => {
    ac = ac || new (window.AudioContext || window.webkitAudioContext)();
    if(ac.state === 'suspended') ac.resume();
  }, {once:true});

  function playBeep(){
    if(!soundOn || !ac) return;
    const o = ac.createOscillator();
    const g = ac.createGain();
    o.type = 'square';
    o.frequency.value = 880 + Math.random()*120;
    g.gain.value = 0.1;
    o.connect(g); g.connect(ac.destination);
    const now = ac.currentTime;
    g.gain.setValueAtTime(0.1, now);
    g.gain.exponentialRampToValueAtTime(0.0001, now + 0.05);
    o.start(now);
    o.stop(now + 0.06);
  }

  // ---------- Typewriter with beep ----------
  const lines = [
    'compiling reasons I adore you baobei...\n',
    '1) you sometimes make my monotone voice less monotone\n',
    '2) your ass = my favourite thing to smack\n',
    '3) you always inspire me to do better\n',
    '4) dinner + adventures + us > everything\n',
    '5) hope u feel better soon my xiao tuzi\n',
    'deploying ❤️  →  success!'
  ];
  const typeEl = document.getElementById('type');
  const cursor = document.getElementById('cursor');
  let i=0, j=0, playing=true;
  function typeNext(){
    if(!playing) return;
    if(i >= lines.length){ cursor.style.display='inline-block'; return; }
    const current = lines[i];
    if(j < current.length){
      typeEl.textContent += current[j];
      j++;
      if(current[j-1] !== '\n') playBeep();
      setTimeout(typeNext, 36 + Math.random()*70);
    } else {
      i++; j=0;
      if(i < lines.length) typeEl.textContent += '\n' + 'howie@heart:~$ ';
      setTimeout(typeNext, 420);
    }
  }
  typeEl.textContent = '';
  setTimeout(typeNext, 700);

  // ---------- Controls ----------
  document.getElementById('replay').addEventListener('click', ()=>{
    i=0; j=0; playing=true; typeEl.textContent=''; cursor.style.display='inline-block'; typeNext();
  });
  document.getElementById('sound').addEventListener('click', ()=>{
    soundOn = !soundOn;
    document.getElementById('sound').textContent = soundOn ? 'sound: on' : 'sound: off';
  });
  document.getElementById('share').addEventListener('click', async ()=>{
    try{
      await navigator.clipboard.writeText(location.href);
      const btn = document.getElementById('share');
      const old = btn.textContent; btn.textContent='copied!';
      setTimeout(()=> btn.textContent=old, 1200);
    }catch(e){ alert('Copy failed — just send this page URL :)'); }
  });
</script>
</body>
</html>
